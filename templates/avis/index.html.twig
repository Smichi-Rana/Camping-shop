{% extends 'base.html.twig' %}

{% block title %}Avis des clients{% endblock %}

{% block body %}
    <h1>Avis des clients</h1>

    {% if avis is empty %}
        <p>Aucun avis pour le moment.</p>
    {% else %}
        <div class="avis-list">
            {% for item in avis %}
                <div class="avis-card mb-3 p-3 border rounded">
                    <div class="avis-header mb-2">
                        <strong>{{ item.user.firstName }} {{ item.user.lastName }}</strong>
                        <span class="text-muted" style="float:right;">{{ item.createdAt|date('d/m/Y') }}</span>
                    </div>
                    <div class="avis-stars mb-1">
                        {% for i in 1..5 %}
                            <span class="star {{ i <= item.note ? 'text-warning' : 'text-secondary' }}">â˜…</span>
                        {% endfor %}
                    </div>
                    <div class="avis-comment">
                        {{ item.commentaire|nl2br }}
                    </div>
                </div>
            {% endfor %}
        </div>
    {% endif %}

    <style>
        .star {
            font-size: 1.5rem;
        }
        .text-warning {
            color: #ffc107;
        }
        .text-secondary {
            color: #e4e5e9;
        }
        .avis-card:hover {
            background: #f9f9f9;
        }
    </style>
{% endblock %}
