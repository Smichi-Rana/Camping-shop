{% extends 'base.html.twig' %}

{% block title %}Nouvelle Facture{% endblock %}

{% block body %}
    <div class="container mt-5">
        <h1>Créer une nouvelle Facture</h1>

        {{ form_start(form) }}
        <div class="row">
            <div class="col-md-6">
                <div class="form-group mb-3">
                    {{ form_label(form.numCommande) }}
                    {{ form_widget(form.numCommande, {'attr': {'class': 'form-control'}}) }}
                    {{ form_errors(form.numCommande) }}
                </div>
            </div>

            <div class="col-md-6">
                <div class="form-group mb-3">
                    {{ form_label(form.statut) }}
                    {{ form_widget(form.statut, {'attr': {'class': 'form-control'}}) }}
                    {{ form_errors(form.statut) }}
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-md-6">
                <div class="form-group mb-3">
                    {{ form_label(form.dateFacture) }}
                    {{ form_widget(form.dateFacture, {'attr': {'class': 'form-control'}}) }}
                    {{ form_errors(form.dateFacture) }}
                </div>
            </div>

            <div class="col-md-6">
                <div class="form-group mb-3">
                    {{ form_label(form.dateEcheance) }}
                    {{ form_widget(form.dateEcheance, {'attr': {'class': 'form-control'}}) }}
                    {{ form_errors(form.dateEcheance) }}
                </div>
            </div>
        </div>

        <div class="form-group mb-3">
            {{ form_label(form.total) }}
            {{ form_widget(form.total, {'attr': {'class': 'form-control'}}) }}
            {{ form_errors(form.total) }}
        </div>

        <div class="row">
            <div class="col-md-6">
                <div class="form-group mb-3">
                    {{ form_label(form.commande) }}
                    {{ form_widget(form.commande, {'attr': {'class': 'form-control'}}) }}
                    {{ form_errors(form.commande) }}
                </div>
            </div>

            <div class="col-md-6">
                <div class="form-group mb-3">
                    {{ form_label(form.user) }}
                    {{ form_widget(form.user, {'attr': {'class': 'form-control'}}) }}
                    {{ form_errors(form.user) }}
                </div>
            </div>
        </div>

        <div class="form-group mb-3">
            {{ form_label(form.commentaire) }}
            {{ form_widget(form.commentaire, {'attr': {'class': 'form-control'}}) }}
            {{ form_errors(form.commentaire) }}
        </div>

        {# Afficher les champs restants (CSRF token, etc.) #}
        {{ form_rest(form) }}

        <div class="mt-4">
            <button type="submit" class="btn btn-primary">
                <i class="fas fa-save"></i> Enregistrer
            </button>
            <a href="{{ path('app_facture_index') }}" class="btn btn-secondary">
                <i class="fas fa-arrow-left"></i> Retour à la liste
            </a>
        </div>
        {{ form_end(form) }}
    </div>
{% endblock %}
